@use '../helpers' as *;

.button {
  height: var(--input-height);
  border-radius: 34px;
  transition-duration: var(--transition-duration-slow);
  border: none;
  background: transparent;
  backdrop-filter: blur(10px);
  color: var(--text);

  @include hover() {
    transition-duration: var(--transition-duration);
    background-color: var(--border-muted);
  }

  @include focus-visible-no-typing;

  &-theme {
    --sizeButton: 96px;

    position: relative;
    width: var(--sizeButton);
    background: var(--glass-bg);
    border: 1px solid var(--border-color);
    backdrop-filter: blur(var(--blur-xl)) saturate(180%);
    -webkit-backdrop-filter: blur(var(--blur-xl)) saturate(180%);
    transition: transform var(--transition-duration-slow) cubic-bezier(0.34, 1.56, 0.64, 1),
      background var(--transition-duration-slow) ease-in-out,
      border-color var(--transition-duration-slow) ease-in-out;

    @include tablet {
      --sizeButton: 76px;
      --input-height: 36px;
    }

    @include hover {
      transform: translateY(-2px);
      background: var(--glass-bg-hover);
    }

    &:active {
      transform: translateY(0) scale(0.98);
    }

    &-toggle {
      @include abs-y;
      @include flex-center;

      width: calc(var(--sizeButton) / 4);
      height: calc(var(--sizeButton) / 4);
      left: calc(var(--sizeButton) / 8);
      transition: transform 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);

      svg {
        width: calc(var(--sizeButton) / 4.25);
        height: calc(var(--sizeButton) / 4.25);
        border: 1px solid var(--glass-border);
        border-radius: 50%;
        background: hsl(0deg 0% 100% / 8%);
        backdrop-filter: blur(var(--blur-md)) saturate(150%);
        -webkit-backdrop-filter: blur(var(--blur-md)) saturate(150%);
        box-shadow: 0 2px 8px hsl(220deg 20% 0% / 20%),
          inset 0 1px 2px hsl(0deg 0% 100% / 15%);
        transition: background var(--transition-duration-slow) ease-in-out,
          transform var(--transition-duration-slow) cubic-bezier(0.34, 1.56, 0.64, 1),
          border-color var(--transition-duration-slow) ease-in-out;
      }

      &.is-active {
        --translateX: calc(var(--sizeButton) / 2.2);

        transform: translateX(var(--translateX));

        svg {
          transform: rotate(360deg);
          background: hsl(0deg 0% 100% / 12%);
          border-color: hsl(0deg 0% 100% / 20%);
        }
      }
    }
  }
}
